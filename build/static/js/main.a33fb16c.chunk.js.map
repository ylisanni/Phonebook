{"version":3,"sources":["App.js","index.js"],"names":["baseUrl","Persons","_ref","persons","onRemovePerson","react_default","a","createElement","map","person","App_Person","key","name","Person","_ref2","number","onClick","event","id","NewPersonForm","_ref3","onAddPerson","onNameChange","onNumberChange","newName","newNumber","onSubmit","value","onChange","type","App","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","addPerson","preventDefault","state","toUpperCase","includes","alert","concat","axios","post","then","response","setState","data","removePerson","url","find","n","window","confirm","delete","filter","handleNameChange","target","handleNumberChange","_this2","get","App_NewPersonForm","App_Persons","React","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.a33fb16c.chunk.js","sourcesContent":["import React from 'react'\nimport axios from 'axios'\n\n\n// The base url for the API\nconst baseUrl = '/api/persons'\n\nconst Persons = ({ persons, onRemovePerson }) => {\n  return (\n    <table>\n      <tbody>\n        {persons.map(person => <Person key={person.name} person={person} onRemovePerson={onRemovePerson} />)}\n      </tbody>\n    </table>\n  )\n}\n\nconst Person = ({ person, onRemovePerson }) => {\n  return (\n    <tr>\n      <td>{person.name}</td><td>{person.number}</td><td><button onClick={(event) => onRemovePerson(person.id, event)}>remove</button></td>\n    </tr>\n  )\n}\n\n// The amount of props can be decreased. Following the instructions this is the result.\nconst NewPersonForm = ({ onAddPerson, onNameChange, onNumberChange, newName, newNumber }) => {\n  return (\n    <form onSubmit={onAddPerson}>\n      <div>\n        name: <input value={newName} onChange={onNameChange} />\n      </div>\n      <div>\n        number: <input value={newNumber} onChange={onNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [],\n      newName: '',\n      newNumber: ''\n    }\n  }\n\n  addPerson = (event) => {\n    event.preventDefault()\n    const person = {\n      name: this.state.newName,\n      number: this.state.newNumber\n    }\n    if (this.state.persons.map(person => person.name.toUpperCase()).includes(person.name.toUpperCase())) {\n      alert(`${person.name} already exists! Please choose a different name.`)\n      return\n    }\n    axios.post(baseUrl, person)\n      .then(response => {\n        this.setState({\n          persons: this.state.persons.concat(response.data),\n          newName: '',\n          newNumber: ''\n        })\n      })\n  }\n\n  removePerson = (id, event) => {\n    const url = `${baseUrl}/${id}`\n    const person = this.state.persons.find(n => n.id === id)\n    if (!window.confirm(`Are you sure you want to delete ${person.name} from your phonebook?`)) {\n      return\n    }\n    axios\n      .delete(url, person)\n      .then(response => {\n        this.setState({\n          persons: this.state.persons.filter(person => person.id !== id)\n        })\n      })\n  }\n\n  handleNameChange = (event) => {\n    this.setState({ newName: event.target.value })\n  }\n\n  handleNumberChange = (event) => {\n    this.setState({ newNumber: event.target.value })\n  }\n\n  componentDidMount() {\n    axios\n      .get(baseUrl)\n      .then(response => {\n        this.setState({ persons: response.data })\n      })\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Phonebook</h2>\n        <NewPersonForm onAddPerson={this.addPerson} onNameChange={this.handleNameChange} onNumberChange={this.handleNumberChange} newName={this.state.newName} newNumber={this.state.newNumber} />\n        <h2>Numbers</h2>\n        <Persons persons={this.state.persons} onRemovePerson={this.removePerson} />\n      </div>\n\n    )\n  }\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}